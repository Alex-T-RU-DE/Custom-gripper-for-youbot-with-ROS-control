# Kuka-youbot-gripper-ROSSerial

## Custom gripper for youbot with ROS-control 


This project shows how to make and implement a new gripper for the arm of the Kuka Youbot.

## Required parts

-   Two servos 
-   Printed with 3D printer and assebled gripper from the following [link](https://www.thingiverse.com/thing:4764063)
-   Arduino mega/[pro](https://www.amazon.de/ARCELI-Arduino-Mega-ATmega2560-CH340G-Elektronik/dp/B07MQ1J9MR/ref=sr_1_13?dchild=1&keywords=arduino+pro&qid=1613692717&sr=8-13) 
-   Wires
-   [DC-DC transformer](https://www.amazon.de/LAOMAO-Wandler-einstellbar-Spannungswandler-Converter/dp/B00HV4EPG8/ref=asc_df_B00HV4EPG8/?tag=googshopde-21&linkCode=df0&hvadid=231941675984&hvpos=&hvnetw=g&hvrand=3852759402861473550&hvpone=&hvptwo=&hvqmt=&hvdev=c&hvdvcmdl=&hvlocint=&hvlocphy=9068552&hvtargid=pla-420005320986&psc=1&th=1&psc=1)


Step by step for starting the programm:

Before starting make sure that you installed Arduino IDE.

1. Copy folder "youbot_gripper" into your catkin_ws/scr directory.
2. Navigate yourself into catking_ws and compile it with catkin_make.
3. installing ROSserial:
 ```
     sudo apt-get install ros-<your_version_of_ros>-rosserial-arduino.
     sudo apt-get install ros-<your_version_of_ros>-rosserial.
 ```
4. Open <your Arduino directory>/Arduino/library in terminal and run following command:
    'rosrun rosserial_arduino make_libraries.py'  (It will automatically prepare and copy all your custom messages, services and packages (including youbot gripper) in the library of Arduino.
5. Download file "Gripper_service_server.ino" and put it into Arduino directory.
6. Firsly, try to compile it. If it works - upload the program in your arduino board and go to the step 7. If not and you are having following error:

```
    #include <cstring>
          ^~~~~~~~~
compilation terminated. 
 ```
you should  chang the  "**msg.h**" in `~/Arduino/libraries/ros_lib/ros`  destination generated by `rosrun rosserial_arduino make_libraries.py .` with "**msg.h**" file from "*rosserial lib*" (0.7.8 version) which could be downloaded from the Library manager of Arduino IDE (directory of this file in downloaded library: `~/Rosserial_Arduino_Library/src/ros/`).  

   
7. In order to start your gipper you should you following command on your device, which is connected to the gripper:
```
        rosrun rosserial_python serial_node.py /dev/tty_YOUR_PORT_FOR_ARDUINO 
```
example:  
```
        rosrun rosserial_python serial_node.py /dev/ttyUSB0
```
This command will start the server on your arduino device and it will share the service for gripping. You could play with this service by starting simple client with the following command:
```
        rosrun youbot_gripper youbot_gripper_client NUMBER_OF_INSTRUCTIONS 
```
but you should put some number instead of the ```NUMBER_OF_INSTRUCTIONS```
        
                                 
## Instructions for the service

In order to use different commands for this gripper you could use following numbers to achieve desired result
>
